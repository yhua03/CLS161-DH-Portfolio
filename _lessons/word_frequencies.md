---
layout: page
title: Counting Word Frequencies with Python
description: This lesson uses Python to count word frequencies, which can be used in several ways to analyze texts.
---

## Source
[Turkel, W. J., & Crymble, A. (2012). Counting Word Frequencies with Python. _The Programming Historian_, 1. https://doi.org/10.46430/phen0003](https://programminghistorian.org/en/lessons/counting-frequencies)

## Reflection
TODO

## Code

### Counting Frequencies in a List
Before diving into counting word frequencies from a text file, we will first look at techniques to count word frequencies in a list.

```python
# count-list-items-1.py

wordstring = 'it was the best of times it was the worst of times '
wordstring += 'it was the age of wisdom it was the age of foolishness'

wordlist = wordstring.split()

wordfreq = []
for w in wordlist:
    wordfreq.append(wordlist.count(w))

print("String\n" + wordstring +"\n")
print("List\n" + str(wordlist) + "\n")
print("Frequencies\n" + str(wordfreq) + "\n")
print("Pairs\n" + str(list(zip(wordlist, wordfreq))))
```

```
String
it was the best of times it was the worst of times it was the age of wisdom it was the age of foolishness

List
['it', 'was', 'the', 'best', 'of', 'times', 'it', 'was', 'the', 'worst', 'of', 'times', 'it', 'was', 'the', 'age', 'of', 'wisdom', 'it', 'was', 'the', 'age', 'of', 'foolishness']

Frequencies
[4, 4, 4, 1, 4, 2, 4, 4, 4, 1, 4, 2, 4, 4, 4, 2, 4, 1, 4, 4, 4, 2, 4, 1]

Pairs
[('it', 4), ('was', 4), ('the', 4), ('best', 1), ('of', 4), ('times', 2), ('it', 4), ('was', 4), ('the', 4), ('worst', 1), ('of', 4), ('times', 2), ('it', 4), ('was', 4), ('the', 4), ('age', 2), ('of', 4), ('wisdom', 1), ('it', 4), ('was', 4), ('the', 4), ('age', 2), ('of', 4), ('foolishness', 1)]

```

### Python Dictionaries
As we start getting a feel of counting word frequencies with Python, we divert our attention to a very important data structure that can make counting word frequencies easy - a dictionary.

```python
d = {'world': 1, 'hello': 0}
print(d['hello'])

print(d['world'])

print(d.keys())
```

```
0
1
dict_keys(['world', 'hello'])
```

### Word-Frequency Pairs
The existing `obo.py` code is
```python
# obo.py
def stripTags(pageContents):
    pageContents = str(pageContents)
    startLoc = pageContents.find("<p>")
    endLoc = pageContents.rfind("<br/>")

    pageContents = pageContents[startLoc:endLoc]

    inside = 0
    text = ''

    for char in pageContents:
        if char == '<':
            inside = 1
        elif (inside == 1 and char == '>'):
            inside = 0
        elif inside == 1:
            continue
        else:
            text += char

    return text

# Given a text string, remove all non-alphanumeric
# characters (using Unicode definition of alphanumeric).

def stripNonAlphaNum(text):
    import re
    return re.compile(r'\W+', re.UNICODE).split(text)
```

We add the function `wordListToFreqDict` to this module.
```python
# Given a list of words, return a dictionary of word-frequency pairs
def wordListToFreqDict(wordlist):
    wordfreq = [wordlist.count(p) for p in wordlist]
    return dict(list(zip(wordlist,wordfreq)))
```

Furthermore, the function `sortFreqDict` is also added:
```python
# Sort a dictionary of word-frequency pairs in order of descending frequency
def sortFreqDict(freqdict):
    aux = [(freqdict[key], key) for key in freqdict]
    aux.sort()
    aux.reverse()
    return aux
```

Finally, we can use these functions to write a program that takes a URL and returns the word-frequency pairs for that webpage, sorted in descending order of the word's frequency.

```python
# html-to-freq.py

import urllib.request, urllib.error, urllib.parse, obo

url = 'http://www.oldbaileyonline.org/browse.jsp?id=t17800628-33&div=t17800628-33'

response = urllib.request.urlopen(url)
html = response.read().decode('UTF-8')
text = obo.stripTags(html).lower()
wordlist = obo.stripNonAlphaNum(text)
dictionary = obo.wordListToFreqDict(wordlist)
sorteddict = obo.sortFreqDict(dictionary)

for s in sorteddict: print(str(s))
```

```
(192, 'the')
(105, 'i')
(74, 'to')
(71, 'was')
(67, 'of')
(62, 'in')
(53, 'a')
(52, 'and')
(50, 'you')
(50, 'he')
(40, 'that')
(38, 'his')
(36, 'it')
(34, 'did')
(27, 'him')
(26, 'on')
(26, 'at')
(25, 'house')
(23, 'had')
(21, 'there')
(21, 'my')
(20, 'yes')
(20, 's')
(20, 'prisoner')
(20, 'any')
(19, 'not')
(19, 'mr')
(18, 'were')
(17, 'when')
(17, 'man')
(15, 'what')
(15, 'no')
(15, 'akerman')
(14, 'with')
(14, 'mob')
(13, 'black')
(12, 'this')
(12, 'them')
(12, 'night')
(12, 'is')
(12, 'down')
(12, 'are')
(11, 'up')
(11, 'they')
(11, 'some')
(11, 'saw')
(11, 'other')
(11, 'do')
(11, 'but')
(10, 'which')
(10, 'see')
(9, 'went')
(9, 'then')
(9, 'sworn')
(9, 'room')
(9, 'pair')
(9, 'out')
(9, 'me')
(9, 'know')
(9, 'fire')
(9, 'face')
(9, 'by')
(9, 'be')
(9, 'am')
(8, 'who')
(8, 'time')
(8, 'thing')
(8, 'one')
(8, 'for')
(8, 'believe')
(8, 'as')
(8, 'an')
(7, 'window')
(7, 'took')
(7, 'than')
(7, 'swear')
(7, 'stairs')
(7, 'servant')
(7, 'name')
(7, 'made')
(7, 'lodging')
(7, 'lie')
(7, 'key')
(7, 'june')
(7, 'door')
(7, 'could')
(7, 'cannot')
(7, 'after')
(6, 'upon')
(6, 'two')
(6, 'three')
(6, 'so')
(6, 'seemed')
(6, 'lay')
(6, 'have')
(6, 'hat')
(6, 'has')
(6, 'from')
(6, 'came')
(6, '6th')
(5, 'where')
(5, 'stockings')
(5, 'second')
(5, 'say')
(5, 'prison')
(5, 'positive')
(5, 'person')
(5, 'people')
(5, 'particular')
(5, 'open')
(5, 'off')
(5, 'o')
(5, 'never')
(5, 'knew')
(5, 'hair')
(5, 'goods')
(5, 'first')
(5, 'clock')
(5, 'about')
(4, 'week')
(4, 'trunk')
(4, 'times')
(4, 'remark')
(4, 'place')
(4, 'persons')
(4, 'others')
(4, 'or')
(4, 'notice')
(4, 'nine')
(4, 'more')
(4, 'into')
(4, 'hands')
(4, 'gave')
(4, 'found')
(4, 'evening')
(4, 'day')
(4, 'certain')
(4, 'burnt')
(4, 'better')
(4, 'before')
(4, 'amongst')
(4, 'again')
(3, 'your')
(3, 'years')
(3, 'wood')
(3, 'without')
(3, 'till')
(3, 'those')
(3, 'take')
(3, 'such')
(3, 'something')
(3, 'several')
(3, 'seven')
(3, 'servants')
(3, 'same')
(3, 'rest')
(3, 'remember')
(3, 'remarkable')
(3, 'put')
(3, 'parlour')
(3, 'our')
(3, 'original')
(3, 'opposite')
(3, 'observed')
(3, 'mine')
(3, 'men')
(3, 'master')
(3, 'mark')
(3, 'looking')
(3, 'looked')
(3, 'live')
(3, 'little')
(3, 'last')
(3, 'jury')
(3, 'initials')
(3, 'immediately')
(3, 'if')
(3, 'hour')
(3, 'home')
(3, 'here')
(3, 'head')
(3, 'handkerchief')
(3, 'hand')
(3, 'genteel')
(3, 'form')
(3, 'examination')
(3, 'dressed')
(3, 'doing')
(3, 'crown')
(3, 'cross')
(3, 'counsel')
(3, 'character')
(3, 'attacked')
(3, 'ann')
(3, 'all')
(3, 'afterwards')
(2, 'wove')
(2, 'within')
(2, 'white')
(2, 'washed')
(2, 'voice')
(2, 'tuesday')
(2, 'town')
(2, 'throw')
(2, 'thought')
(2, 'thirty')
(2, 'think')
(2, 'these')
(2, 'their')
(2, 'taken')
(2, 'sure')
(2, 'street')
(2, 'still')
(2, 'sticks')
(2, 'standing')
(2, 'sleep')
(2, 'six')
(2, 'situated')
(2, 'since')
(2, 'shelf')
(2, 'set')
(2, 'said')
(2, 'round')
(2, 'roberts')
(2, 'richard')
(2, 'producing')
(2, 'proceeded')
(2, 'pocket')
(2, 'phillips')
(2, 'perfectly')
(2, 'over')
(2, 'only')
(2, 'mind')
(2, 'mattocks')
(2, 'make')
(2, 'lives')
(2, 'lived')
(2, 'light')
(2, 'lessar')
(2, 'legs')
(2, 'left')
(2, 'knowledge')
(2, 'keys')
(2, 'jennings')
(2, 'inactive')
(2, 'impression')
(2, 'how')
(2, 'holbourn')
(2, 'himself')
(2, 'held')
(2, 'heard')
(2, 'having')
(2, 'granted')
(2, 'got')
(2, 'good')
(2, 'get')
(2, 'formidable')
(2, 'forced')
(2, 'five')
(2, 'find')
(2, 'every')
(2, 'else')
(2, 'dress')
(2, 'drawers')
(2, 'doubt')
(2, 'divided')
(2, 'distinguish')
(2, 'difficulty')
(2, 'dark')
(2, 'cut')
(2, 'course')
(2, 'constable')
(2, 'coming')
(2, 'come')
(2, 'colour')
(2, 'coat')
(2, 'circle')
(2, 'book')
(2, 'bid')
(2, 'being')
(2, 'been')
(2, 'bed')
(2, 'bar')
(2, 'b')
(2, 'appearance')
(2, 'ago')
(2, 'against')
(2, 'active')
(2, '7th')
(1, 'yet')
(1, 'work')
(1, 'woman')
(1, 'witnesses')
(1, 'windows')
(1, 'wife')
(1, 'whose')
(1, 'wheels')
(1, 'well')
(1, 'weight')
(1, 'wednesday')
(1, 'way')
(1, 'washerwoman')
(1, 'wash')
(1, 'waistcoat')
(1, 'w')
(1, 'view')
(1, 'very')
(1, 'used')
(1, 'use')
(1, 'unlawfully')
(1, 'twice')
(1, 'turned')
(1, 'tumultuously')
(1, 'truth')
(1, 'tried')
(1, 'towards')
(1, 'tough')
(1, 'too')
(1, 'told')
(1, 'together')
(1, 'tied')
(1, 'thursday')
(1, 'thrown')
(1, 'throwing')
(1, 'threw')
(1, 'things')
(1, 'tell')
(1, 'talk')
(1, 'suppose')
(1, 'struck')
(1, 'stood')
(1, 'steps')
(1, 'statute')
(1, 'station')
(1, 'square')
(1, 'spokes')
(1, 'spoke')
(1, 'smooth')
(1, 'smithfield')
(1, 'sister')
(1, 'silk')
(1, 'sight')
(1, 'shutters')
(1, 'showers')
(1, 'shoulders')
(1, 'she')
(1, 'self')
(1, 'seen')
(1, 'seeing')
(1, 'searched')
(1, 'saving')
(1, 'sandiman')
(1, 'sailor')
(1, 'running')
(1, 'rose')
(1, 'roof')
(1, 'robert')
(1, 'riotously')
(1, 'retired')
(1, 'remarks')
(1, 'relation')
(1, 'red')
(1, 'recollection')
(1, 'recollect')
(1, 'rapped')
(1, 'quite')
(1, 'quarter')
(1, 'pulling')
(1, 'pulled')
(1, 'pull')
(1, 'public')
(1, 'prevent')
(1, 'precisely')
(1, 'preceded')
(1, 'possession')
(1, 'pointed')
(1, 'please')
(1, 'percival')
(1, 'peace')
(1, 'paving')
(1, 'party')
(1, 'partly')
(1, 'particularly')
(1, 'part')
(1, 'park')
(1, 'outside')
(1, 'originalhis')
(1, 'order')
(1, 'opportunity')
(1, 'opened')
(1, 'once')
(1, 'old')
(1, 'often')
(1, 'occasion')
(1, 'observation')
(1, 'obeisance')
(1, 'number')
(1, 'notwith')
(1, 'nothing')
(1, 'northington')
(1, 'nor')
(1, 'none')
(1, 'nodded')
(1, 'nobody')
(1, 'newgate')
(1, 'neck')
(1, 'near')
(1, 'nares')
(1, 'myself')
(1, 'mysee')
(1, 'mud')
(1, 'moved')
(1, 'motley')
(1, 'morning')
(1, 'might')
(1, 'middle')
(1, 'mentioned')
(1, 'meddle')
(1, 'meaning')
(1, 'married')
(1, 'marks')
(1, 'marked')
(1, 'many')
(1, 'manner')
(1, 'making')
(1, 'makes')
(1, 'maker')
(1, 'lord')
(1, 'look')
(1, 'long')
(1, 'london')
(1, 'lodged')
(1, 'lodge')
(1, 'locked')
(1, 'let')
(1, 'length')
(1, 'leave')
(1, 'langdale')
(1, 'landlady')
(1, 'lady')
(1, 'known')
(1, 'kindled')
(1, 'kind')
(1, 'justice')
(1, 'judiciously')
(1, 'john')
(1, 'jacket')
(1, 'itself')
(1, 'its')
(1, 'iron')
(1, 'innumerable')
(1, 'innocent')
(1, 'indignation')
(1, 'indicted')
(1, 'hundred')
(1, 'houses')
(1, 'helped')
(1, 'heels')
(1, 'happened')
(1, 'handkerchiefs')
(1, 'hall')
(1, 'ha')
(1, 'guilty')
(1, 'ground')
(1, 'grace')
(1, 'goodhousen')
(1, 'golden')
(1, 'gingling')
(1, 'genteeler')
(1, 'gates')
(1, 'furniture')
(1, 'four')
(1, 'forwards')
(1, 'force')
(1, 'footman')
(1, 'following')
(1, 'followed')
(1, 'floor')
(1, 'felons')
(1, 'fellow')
(1, 'family')
(1, 'fallen')
(1, 'extreme')
(1, 'exposed')
(1, 'exhibit')
(1, 'exciting')
(1, 'excited')
(1, 'excellent')
(1, 'exceedingly')
(1, 'exceeding')
(1, 'esq')
(1, 'err')
(1, 'equal')
(1, 'england')
(1, 'endeavoured')
(1, 'encouraging')
(1, 'eleven')
(1, 'dwelling')
(1, 'drawer')
(1, 'dr')
(1, 'disturbance')
(1, 'distinction')
(1, 'dining')
(1, 'dined')
(1, 'difficult')
(1, 'destroying')
(1, 'destroyed')
(1, 'destroy')
(1, 'desire')
(1, 'description')
(1, 'demolished')
(1, 'demolish')
(1, 'degree')
(1, 'defence')
(1, 'debtor')
(1, 'death')
(1, 'danger')
(1, 'curls')
(1, 'cry')
(1, 'crows')
(1, 'crew')
(1, 'court')
(1, 'continued')
(1, 'conflagration')
(1, 'confess')
(1, 'conduct')
(1, 'company')
(1, 'coach')
(1, 'chissels')
(1, 'cheques')
(1, 'catching')
(1, 'catched')
(1, 'carry')
(1, 'candle')
(1, 'c')
(1, 'burning')
(1, 'burn')
(1, 'bundle')
(1, 'brownish')
(1, 'brown')
(1, 'brother')
(1, 'broke')
(1, 'bringing')
(1, 'bring')
(1, 'brewers')
(1, 'breast')
(1, 'box')
(1, 'bowsey')
(1, 'borne')
(1, 'bore')
(1, 'body')
(1, 'blue')
(1, 'bludgeons')
(1, 'blacks')
(1, 'blackmoor')
(1, 'between')
(1, 'berner')
(1, 'benjamin')
(1, 'belonging')
(1, 'bell')
(1, 'begin')
(1, 'bb')
(1, 'barrocadoed')
(1, 'banker')
(1, 'backwards')
(1, 'assemble')
(1, 'ask')
(1, 'approached')
(1, 'applied')
(1, 'another')
(1, 'amp')
(1, 'among')
(1, 'america')
(1, 'always')
(1, 'activity')
(1, 'acquaintance')
(1, 'able')
(1, '8th')
(1, '324')
(1, '3')
(1, '')
```